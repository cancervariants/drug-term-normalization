[metadata]
name = thera-py
description = VICC normalization routine for therapies
long_description = file:README.md
long_description_content_type = text/markdown
url = https://github.com/cancervariants/therapy-normalization
author = VICC
author_email = help@cancervariants.org
license = MIT

[options]
packages = find:
python_requires = >=3.8
zip_safe = False
include_package_data = True

install_requires =
    pydantic >=1.8.2
    fastapi >= 0.92.0
    click
    uvicorn
    boto3
    ga4gh.vrsatile.pydantic ~= 0.0.11


[options.package_data]
therapy =
    etl/*
    database/postgresql/*

[options.entry_points]
console_scripts =
    therapy_norm_update = therapy.cli:update_normalizer_db
    therapy_norm_update_remote = therapy.cli:update_from_remote
    therapy_norm_dump = therapy.cli:dump_database

[options.extras_require]
pg =
    psycopg[binary]

etl =
    disease-normalizer ~= 0.2.21  # TODO can't remember if this will work
    owlready2 == 0.40
    rdflib
    wikibaseintegrator >= 0.12.0
    chembl-downloader
    bioversions >= 0.4.3

test =
    pytest
    pytest-cov

dev =
    ipykernel
    ipython >= 8.10
    pre-commit
    flake8 ~= 5.0.4  # pinning until new flake8-quotes release
    flake8-docstrings
    flake8-quotes
    flake8-import-order
    flake8-annotations
    mypy
    types-requests
    types-pyyaml
    lxml
    xmlformatter

[tool:pytest]
addopts = --ignore setup.py --ignore=analysis/ --cov-report term-missing --cov=therapy

[mypy]
plugins = pydantic.mypy
ignore_missing_imports = True

[coverage:run]
source =
   therapy/
   tests/
omit =
   setup.py
   docs/*
